{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://udemy-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const openModalbtn = document.querySelectorAll(\".open-modal\");\n    const modalEl = document.querySelector(\".wp-block-udemy-plus-auth-modal\");\n    const closeModalEl = document.querySelectorAll(\".modal-overlay, .modal-btn-close\");\n    const signinForm = document.querySelector('#signin-tab');\n    const signupForm = document.querySelector('#signup-tab');\n\n    openModalbtn.forEach(el => {\n        el.addEventListener('click', event => {\n            event.preventDefault();\n            modalEl.classList.add('modal-show');\n        })\n    })\n\n    closeModalEl.forEach(el => {\n        el.addEventListener('click', event => {\n            event.preventDefault();\n            modalEl.classList.remove('modal-show');\n        })\n    })\n\n    const tabs = document.querySelectorAll('.tabs a');\n\n    tabs.forEach(tab => {\n        tab.addEventListener('click', event =>{\n            event.preventDefault();\n            tabs.forEach(currentTab => {\n                currentTab.classList.remove('active-tab')\n            })\n            event.currentTarget.classList.add('active-tab');\n            \n            const activeTab = event.currentTarget.getAttribute('href');\n\n            if(activeTab === '#signin-tab'){\n                signinForm.style.display ='block';\n                signupForm.style.display = 'none';\n            } else {\n                signinForm.style.display ='none';\n                signupForm.style.display = 'block';\n            }\n        })\n    })\n\n    signupForm.addEventListener('submit', async event => {\n\n        event.preventDefault();\n        const signupFieldSet = signupForm.querySelector('fieldset');\n        signupFieldSet.setAttribute('disabled', true);\n\n        const signupStatus = signupForm.querySelector('#signup-status');\n        signupStatus.innerHTML = \n        `\n            <div class = \"modal-status modal-status-info\">\n                All forms must be completed to create account.\n            </div>\n        `;\n        const formData = {\n            username: signupForm.querySelector('#su-name').value,\n            email: signupForm.querySelector('#su-email').value,\n            password: signupForm.querySelector('#su-password').value\n        };\n\n        const response = await fetch(up_auth_rest.signup, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        })\n\n        const responseJSON = await response.json();\n\n        if(responseJSON === 2) { \n            signupStatus.innerHTML = \n            `<div class=\"modal-status modal-status-success\">\n                Success! Your account has been created.\n            </div>`\n        location.reload();\n        } else {\n            signupFieldSet.removeAttribute('disabled')\n            signupStatus.innerHTML = `\n                <div class = \"modal-status modal-status-danger\">\n                    Unable to create account! Please try again later.\n                </div>\n            `\n        }\n    })\n    \n    signinForm.addEventListener('submit', async event => {\n        event.preventDefault();\n\n        const signinFieldSet = document.querySelector('fieldset');\n        const signinStatus = document.querySelector('#signin-status');\n\n        signinFieldSet.setAttribute('disabled', true);\n\n        signinStatus.innerHTML = \n        `\n            <div class = \"modal-status modal-status-info\">\n                Please wait! We're logging you in.\n            </div>\n        `;\n\n        const formData = {\n            user_login: signinForm.querySelector('#si-login').value,\n            password: signinForm.querySelector('#si-password').value\n        };\n\n        const response = await fetch(up_auth_rest.signin, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        });\n\n        const responseJSON = await response.json();\n\n        if(responseJSON.status === 2) {\n            signinStatus.innerHTML =\n            `<div class=\"modal-status modal-status-success\">\n                Success! You're now logged in.\n            </div>`\n        location.reload();\n        } else {\n            signinFieldSet.removeAttribute('disabled');\n            signinStatus.innerHTML =\n            `<div class=\"modal-status modal-status-danger\">\n                Ya done fucked up a-aron.\n            </div>`\n        }\n    })\n});"],"names":["document","addEventListener","openModalbtn","querySelectorAll","modalEl","querySelector","closeModalEl","signinForm","signupForm","forEach","el","event","preventDefault","classList","add","remove","tabs","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldSet","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","up_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","location","reload","removeAttribute","signinFieldSet","signinStatus","user_login","signin","status"],"sourceRoot":""}